//*****************************************************************************
//
//! \file HX8347-G.c
//! \brief Driver for Character LCD HX8347-G.
//! \version 1.0.0
//! \date 6/26/2012
//! \author CooCox
//! \copy
//!
//! Copyright (c)  2011, CooCox 
//! All rights reserved.
//! 
//! Redistribution and use in source and binary forms, with or without 
//! modification, are permitted provided that the following conditions 
//! are met: 
//! 
//!     * Redistributions of source code must retain the above copyright 
//! notice, this list of conditions and the following disclaimer. 
//!     * Redistributions in binary form must reproduce the above copyright
//! notice, this list of conditions and the following disclaimer in the
//! documentation and/or other materials provided with the distribution. 
//!     * Neither the name of the <ORGANIZATION> nor the names of its 
//! contributors may be used to endorse or promote products derived 
//! from this software without specific prior written permission. 
//! 
//! THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
//! AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE 
//! IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
//! ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE 
//! LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR 
//! CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF 
//! SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
//! INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN 
//! CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
//! ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
//! THE POSSIBILITY OF SUCH DAMAGE.
//
//*****************************************************************************

#include "xhw_types.h"
#include "xhw_memmap.h"
#include "xhw_ints.h"
#include "xdebug.h"
#include "xsysctl.h"
#include "xgpio.h"
#include "xhw_gpio.h"
#include "xspi.h"
#include "xhw_spi.h"
#include "hw_HX8347-G.h"
#include "HX8347-G.h"

static unsigned long ulSysClk;
static volatile unsigned short TextColor = Black;
static volatile unsigned short BackColor = White;
unsigned short usFont24x16[] = {
  /* Space ' ' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '!' */
  0x0000, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0000, 0x0000,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '"' */
  0x0000, 0x0000, 0x00CC, 0x00CC, 0x00CC, 0x00CC, 0x00CC, 0x00CC,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '#' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0C60, 0x0C60,
  0x0C60, 0x0630, 0x0630, 0x1FFE, 0x1FFE, 0x0630, 0x0738, 0x0318,
  0x1FFE, 0x1FFE, 0x0318, 0x0318, 0x018C, 0x018C, 0x018C, 0x0000,
  /* '$' */
  0x0000, 0x0080, 0x03E0, 0x0FF8, 0x0E9C, 0x1C8C, 0x188C, 0x008C,
  0x0098, 0x01F8, 0x07E0, 0x0E80, 0x1C80, 0x188C, 0x188C, 0x189C,
  0x0CB8, 0x0FF0, 0x03E0, 0x0080, 0x0080, 0x0000, 0x0000, 0x0000,
  /* '%' */
  0x0000, 0x0000, 0x0000, 0x180E, 0x0C1B, 0x0C11, 0x0611, 0x0611,
  0x0311, 0x0311, 0x019B, 0x018E, 0x38C0, 0x6CC0, 0x4460, 0x4460,
  0x4430, 0x4430, 0x4418, 0x6C18, 0x380C, 0x0000, 0x0000, 0x0000,
  /* '&' */
  0x0000, 0x01E0, 0x03F0, 0x0738, 0x0618, 0x0618, 0x0330, 0x01F0,
  0x00F0, 0x00F8, 0x319C, 0x330E, 0x1E06, 0x1C06, 0x1C06, 0x3F06,
  0x73FC, 0x21F0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ''' */
  0x0000, 0x0000, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '(' */
  0x0000, 0x0200, 0x0300, 0x0180, 0x00C0, 0x00C0, 0x0060, 0x0060,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0060, 0x0060, 0x00C0, 0x00C0, 0x0180, 0x0300, 0x0200, 0x0000,
  /* ')' */
  0x0000, 0x0020, 0x0060, 0x00C0, 0x0180, 0x0180, 0x0300, 0x0300,
  0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600,
  0x0300, 0x0300, 0x0180, 0x0180, 0x00C0, 0x0060, 0x0020, 0x0000,
  /* '*' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x00C0, 0x00C0,
  0x06D8, 0x07F8, 0x01E0, 0x0330, 0x0738, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '+' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x3FFC, 0x3FFC, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ',' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0180, 0x0180, 0x0100, 0x0100, 0x0080, 0x0000, 0x0000,
  /* '-' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x07E0, 0x07E0, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '.' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '/' */
  0x0000, 0x0C00, 0x0C00, 0x0600, 0x0600, 0x0600, 0x0300, 0x0300,
  0x0300, 0x0380, 0x0180, 0x0180, 0x0180, 0x00C0, 0x00C0, 0x00C0,
  0x0060, 0x0060, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '0' */
  0x0000, 0x03E0, 0x07F0, 0x0E38, 0x0C18, 0x180C, 0x180C, 0x180C,
  0x180C, 0x180C, 0x180C, 0x180C, 0x180C, 0x180C, 0x0C18, 0x0E38,
  0x07F0, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '1' */
  0x0000, 0x0100, 0x0180, 0x01C0, 0x01F0, 0x0198, 0x0188, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '2' */
  0x0000, 0x03E0, 0x0FF8, 0x0C18, 0x180C, 0x180C, 0x1800, 0x1800,
  0x0C00, 0x0600, 0x0300, 0x0180, 0x00C0, 0x0060, 0x0030, 0x0018,
  0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '3' */
  0x0000, 0x01E0, 0x07F8, 0x0E18, 0x0C0C, 0x0C0C, 0x0C00, 0x0600,
  0x03C0, 0x07C0, 0x0C00, 0x1800, 0x1800, 0x180C, 0x180C, 0x0C18,
  0x07F8, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '4' */
  0x0000, 0x0C00, 0x0E00, 0x0F00, 0x0F00, 0x0D80, 0x0CC0, 0x0C60,
  0x0C60, 0x0C30, 0x0C18, 0x0C0C, 0x3FFC, 0x3FFC, 0x0C00, 0x0C00,
  0x0C00, 0x0C00, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '5' */
  0x0000, 0x0FF8, 0x0FF8, 0x0018, 0x0018, 0x000C, 0x03EC, 0x07FC,
  0x0E1C, 0x1C00, 0x1800, 0x1800, 0x1800, 0x180C, 0x0C1C, 0x0E18,
  0x07F8, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '6' */
  0x0000, 0x07C0, 0x0FF0, 0x1C38, 0x1818, 0x0018, 0x000C, 0x03CC,
  0x0FEC, 0x0E3C, 0x1C1C, 0x180C, 0x180C, 0x180C, 0x1C18, 0x0E38,
  0x07F0, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '7' */
  0x0000, 0x1FFC, 0x1FFC, 0x0C00, 0x0600, 0x0600, 0x0300, 0x0380,
  0x0180, 0x01C0, 0x00C0, 0x00E0, 0x0060, 0x0060, 0x0070, 0x0030,
  0x0030, 0x0030, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '8' */
  0x0000, 0x03E0, 0x07F0, 0x0E38, 0x0C18, 0x0C18, 0x0C18, 0x0638,
  0x07F0, 0x07F0, 0x0C18, 0x180C, 0x180C, 0x180C, 0x180C, 0x0C38,
  0x0FF8, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '9' */
  0x0000, 0x03E0, 0x07F0, 0x0E38, 0x0C1C, 0x180C, 0x180C, 0x180C,
  0x1C1C, 0x1E38, 0x1BF8, 0x19E0, 0x1800, 0x0C00, 0x0C00, 0x0E1C,
  0x07F8, 0x01F0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ':' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x0180,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ';' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x0180,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0180, 0x0180, 0x0100, 0x0100, 0x0080, 0x0000, 0x0000, 0x0000,
  /* '<' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x1000, 0x1C00, 0x0F80, 0x03E0, 0x00F8, 0x0018, 0x00F8, 0x03E0,
  0x0F80, 0x1C00, 0x1000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '=' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x1FF8, 0x0000, 0x0000, 0x0000, 0x1FF8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '>' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0008, 0x0038, 0x01F0, 0x07C0, 0x1F00, 0x1800, 0x1F00, 0x07C0,
  0x01F0, 0x0038, 0x0008, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '?' */
  0x0000, 0x03E0, 0x0FF8, 0x0C18, 0x180C, 0x180C, 0x1800, 0x0C00,
  0x0600, 0x0300, 0x0180, 0x00C0, 0x00C0, 0x00C0, 0x0000, 0x0000,
  0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '@' */
  0x0000, 0x0000, 0x07E0, 0x1818, 0x2004, 0x29C2, 0x4A22, 0x4411,
  0x4409, 0x4409, 0x4409, 0x2209, 0x1311, 0x0CE2, 0x4002, 0x2004,
  0x1818, 0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'A' */
  0x0000, 0x0380, 0x0380, 0x06C0, 0x06C0, 0x06C0, 0x0C60, 0x0C60,
  0x1830, 0x1830, 0x1830, 0x3FF8, 0x3FF8, 0x701C, 0x600C, 0x600C,
  0xC006, 0xC006, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'B' */
  0x0000, 0x03FC, 0x0FFC, 0x0C0C, 0x180C, 0x180C, 0x180C, 0x0C0C,
  0x07FC, 0x0FFC, 0x180C, 0x300C, 0x300C, 0x300C, 0x300C, 0x180C,
  0x1FFC, 0x07FC, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'C' */
  0x0000, 0x07C0, 0x1FF0, 0x3838, 0x301C, 0x700C, 0x6006, 0x0006,
  0x0006, 0x0006, 0x0006, 0x0006, 0x0006, 0x6006, 0x700C, 0x301C,
  0x1FF0, 0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'D' */
  0x0000, 0x03FE, 0x0FFE, 0x0E06, 0x1806, 0x1806, 0x3006, 0x3006,
  0x3006, 0x3006, 0x3006, 0x3006, 0x3006, 0x1806, 0x1806, 0x0E06,
  0x0FFE, 0x03FE, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'E' */
  0x0000, 0x3FFC, 0x3FFC, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C,
  0x1FFC, 0x1FFC, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C,
  0x3FFC, 0x3FFC, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'F' */
  0x0000, 0x3FF8, 0x3FF8, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
  0x1FF8, 0x1FF8, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
  0x0018, 0x0018, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'G' */
  0x0000, 0x0FE0, 0x3FF8, 0x783C, 0x600E, 0xE006, 0xC007, 0x0003,
  0x0003, 0xFE03, 0xFE03, 0xC003, 0xC007, 0xC006, 0xC00E, 0xF03C,
  0x3FF8, 0x0FE0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'H' */
  0x0000, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C,
  0x3FFC, 0x3FFC, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C,
  0x300C, 0x300C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'I' */
  0x0000, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'J' */
  0x0000, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0600,
  0x0600, 0x0600, 0x0600, 0x0600, 0x0600, 0x0618, 0x0618, 0x0738,
  0x03F0, 0x01E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'K' */
  0x0000, 0x3006, 0x1806, 0x0C06, 0x0606, 0x0306, 0x0186, 0x00C6,
  0x0066, 0x0076, 0x00DE, 0x018E, 0x0306, 0x0606, 0x0C06, 0x1806,
  0x3006, 0x6006, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'L' */
  0x0000, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
  0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
  0x1FF8, 0x1FF8, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'M' */
  0x0000, 0xE00E, 0xF01E, 0xF01E, 0xF01E, 0xD836, 0xD836, 0xD836,
  0xD836, 0xCC66, 0xCC66, 0xCC66, 0xC6C6, 0xC6C6, 0xC6C6, 0xC6C6,
  0xC386, 0xC386, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'N' */
  0x0000, 0x300C, 0x301C, 0x303C, 0x303C, 0x306C, 0x306C, 0x30CC,
  0x30CC, 0x318C, 0x330C, 0x330C, 0x360C, 0x360C, 0x3C0C, 0x3C0C,
  0x380C, 0x300C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'O' */
  0x0000, 0x07E0, 0x1FF8, 0x381C, 0x700E, 0x6006, 0xC003, 0xC003,
  0xC003, 0xC003, 0xC003, 0xC003, 0xC003, 0x6006, 0x700E, 0x381C,
  0x1FF8, 0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'P' */
  0x0000, 0x0FFC, 0x1FFC, 0x380C, 0x300C, 0x300C, 0x300C, 0x300C,
  0x180C, 0x1FFC, 0x07FC, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C,
  0x000C, 0x000C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'Q' */
  0x0000, 0x07E0, 0x1FF8, 0x381C, 0x700E, 0x6006, 0xE003, 0xC003,
  0xC003, 0xC003, 0xC003, 0xC003, 0xE007, 0x6306, 0x3F0E, 0x3C1C,
  0x3FF8, 0xF7E0, 0xC000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'R' */
  0x0000, 0x0FFE, 0x1FFE, 0x3806, 0x3006, 0x3006, 0x3006, 0x3806,
  0x1FFE, 0x07FE, 0x0306, 0x0606, 0x0C06, 0x1806, 0x1806, 0x3006,
  0x3006, 0x6006, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'S' */
  0x0000, 0x03E0, 0x0FF8, 0x0C1C, 0x180C, 0x180C, 0x000C, 0x001C,
  0x03F8, 0x0FE0, 0x1E00, 0x3800, 0x3006, 0x3006, 0x300E, 0x1C1C,
  0x0FF8, 0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'T' */
  0x0000, 0x7FFE, 0x7FFE, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'U' */
  0x0000, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C,
  0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x300C, 0x1818,
  0x1FF8, 0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'V' */
  0x0000, 0x6003, 0x3006, 0x3006, 0x3006, 0x180C, 0x180C, 0x180C,
  0x0C18, 0x0C18, 0x0E38, 0x0630, 0x0630, 0x0770, 0x0360, 0x0360,
  0x01C0, 0x01C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'W' */
  0x0000, 0x6003, 0x61C3, 0x61C3, 0x61C3, 0x3366, 0x3366, 0x3366,
  0x3366, 0x3366, 0x3366, 0x1B6C, 0x1B6C, 0x1B6C, 0x1A2C, 0x1E3C,
  0x0E38, 0x0E38, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'X' */
  0x0000, 0xE00F, 0x700C, 0x3018, 0x1830, 0x0C70, 0x0E60, 0x07C0,
  0x0380, 0x0380, 0x03C0, 0x06E0, 0x0C70, 0x1C30, 0x1818, 0x300C,
  0x600E, 0xE007, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'Y' */
  0x0000, 0xC003, 0x6006, 0x300C, 0x381C, 0x1838, 0x0C30, 0x0660,
  0x07E0, 0x03C0, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'Z' */
  0x0000, 0x7FFC, 0x7FFC, 0x6000, 0x3000, 0x1800, 0x0C00, 0x0600,
  0x0300, 0x0180, 0x00C0, 0x0060, 0x0030, 0x0018, 0x000C, 0x0006,
  0x7FFE, 0x7FFE, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '[' */
  0x0000, 0x03E0, 0x03E0, 0x0060, 0x0060, 0x0060, 0x0060, 0x0060,
  0x0060, 0x0060, 0x0060, 0x0060, 0x0060, 0x0060, 0x0060, 0x0060,
  0x0060, 0x0060, 0x0060, 0x0060, 0x0060, 0x03E0, 0x03E0, 0x0000,
  /* '\' */
  0x0000, 0x0030, 0x0030, 0x0060, 0x0060, 0x0060, 0x00C0, 0x00C0,
  0x00C0, 0x01C0, 0x0180, 0x0180, 0x0180, 0x0300, 0x0300, 0x0300,
  0x0600, 0x0600, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ']' */
  0x0000, 0x03E0, 0x03E0, 0x0300, 0x0300, 0x0300, 0x0300, 0x0300,
  0x0300, 0x0300, 0x0300, 0x0300, 0x0300, 0x0300, 0x0300, 0x0300,
  0x0300, 0x0300, 0x0300, 0x0300, 0x0300, 0x03E0, 0x03E0, 0x0000,
  /* '^' */
  0x0000, 0x0000, 0x01C0, 0x01C0, 0x0360, 0x0360, 0x0360, 0x0630,
  0x0630, 0x0C18, 0x0C18, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '_' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0xFFFF, 0xFFFF, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ''' */
  0x0000, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'a' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03F0, 0x07F8,
  0x0C1C, 0x0C0C, 0x0F00, 0x0FF0, 0x0CF8, 0x0C0C, 0x0C0C, 0x0F1C,
  0x0FF8, 0x18F0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'b' */
  0x0000, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x03D8, 0x0FF8,
  0x0C38, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x0C38,
  0x0FF8, 0x03D8, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'c' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03C0, 0x07F0,
  0x0E30, 0x0C18, 0x0018, 0x0018, 0x0018, 0x0018, 0x0C18, 0x0E30,
  0x07F0, 0x03C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'd' */
  0x0000, 0x1800, 0x1800, 0x1800, 0x1800, 0x1800, 0x1BC0, 0x1FF0,
  0x1C30, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1C30,
  0x1FF0, 0x1BC0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'e' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03C0, 0x0FF0,
  0x0C30, 0x1818, 0x1FF8, 0x1FF8, 0x0018, 0x0018, 0x1838, 0x1C30,
  0x0FF0, 0x07C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'f' */
  0x0000, 0x0F80, 0x0FC0, 0x00C0, 0x00C0, 0x00C0, 0x07F0, 0x07F0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'g' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0DE0, 0x0FF8,
  0x0E18, 0x0C0C, 0x0C0C, 0x0C0C, 0x0C0C, 0x0C0C, 0x0C0C, 0x0E18,
  0x0FF8, 0x0DE0, 0x0C00, 0x0C0C, 0x061C, 0x07F8, 0x01F0, 0x0000,
  /* 'h' */
  0x0000, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x07D8, 0x0FF8,
  0x1C38, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818,
  0x1818, 0x1818, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'i' */
  0x0000, 0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'j' */
  0x0000, 0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00F8, 0x0078, 0x0000,
  /* 'k' */
  0x0000, 0x000C, 0x000C, 0x000C, 0x000C, 0x000C, 0x0C0C, 0x060C,
  0x030C, 0x018C, 0x00CC, 0x006C, 0x00FC, 0x019C, 0x038C, 0x030C,
  0x060C, 0x0C0C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'l' */
  0x0000, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'm' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x3C7C, 0x7EFF,
  0xE3C7, 0xC183, 0xC183, 0xC183, 0xC183, 0xC183, 0xC183, 0xC183,
  0xC183, 0xC183, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'n' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0798, 0x0FF8,
  0x1C38, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818,
  0x1818, 0x1818, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'o' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03C0, 0x0FF0,
  0x0C30, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x0C30,
  0x0FF0, 0x03C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'p' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03D8, 0x0FF8,
  0x0C38, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x0C38,
  0x0FF8, 0x03D8, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0000,
  /* 'q' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x1BC0, 0x1FF0,
  0x1C30, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1C30,
  0x1FF0, 0x1BC0, 0x1800, 0x1800, 0x1800, 0x1800, 0x1800, 0x0000,
  /* 'r' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x07B0, 0x03F0,
  0x0070, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 's' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03E0, 0x03F0,
  0x0E38, 0x0C18, 0x0038, 0x03F0, 0x07C0, 0x0C00, 0x0C18, 0x0E38,
  0x07F0, 0x03E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 't' */
  0x0000, 0x0000, 0x0080, 0x00C0, 0x00C0, 0x00C0, 0x07F0, 0x07F0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x07C0, 0x0780, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'u' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x1818, 0x1818,
  0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1C38,
  0x1FF0, 0x19E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'v' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x180C, 0x0C18,
  0x0C18, 0x0C18, 0x0630, 0x0630, 0x0630, 0x0360, 0x0360, 0x0360,
  0x01C0, 0x01C0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'w' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x41C1, 0x41C1,
  0x61C3, 0x6363, 0x6363, 0x6363, 0x3636, 0x3636, 0x3636, 0x1C1C,
  0x1C1C, 0x1C1C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'x' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x381C, 0x1C38,
  0x0C30, 0x0660, 0x03C0, 0x03C0, 0x03C0, 0x03C0, 0x0660, 0x0C30,
  0x1C38, 0x381C, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* 'y' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x3018, 0x1830,
  0x1830, 0x1870, 0x0C60, 0x0C60, 0x0CE0, 0x06C0, 0x06C0, 0x0380,
  0x0380, 0x0380, 0x0180, 0x0180, 0x01C0, 0x00F0, 0x0070, 0x0000,
  /* 'z' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x1FFC, 0x1FFC,
  0x0C00, 0x0600, 0x0300, 0x0180, 0x00C0, 0x0060, 0x0030, 0x0018,
  0x1FFC, 0x1FFC, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* '{' */
  0x0000, 0x0300, 0x0180, 0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x00C0,
  0x00C0, 0x0060, 0x0060, 0x0030, 0x0060, 0x0040, 0x00C0, 0x00C0,
  0x00C0, 0x00C0, 0x00C0, 0x00C0, 0x0180, 0x0300, 0x0000, 0x0000,
  /* '|' */
  0x0000, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180, 0x0000,
  /* '}' */
  0x0000, 0x0060, 0x00C0, 0x01C0, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0300, 0x0300, 0x0600, 0x0300, 0x0100, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0180, 0x0180, 0x00C0, 0x0060, 0x0000, 0x0000,
  /* '~' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x10F0, 0x1FF8, 0x0F08, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* ' ' */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,

  /* Special Symbols  starting at character 0x80 */
  /* Circle - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03C0, 0x0C30, 0x1008,
  0x2004, 0x2004, 0x4002, 0x4002, 0x4002, 0x4002, 0x4002, 0x2004,
  0x2004, 0x1008, 0x0C30, 0x03C0, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Circle - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03C0, 0x0FF0, 0x1FF8,
  0x3FFC, 0x3FFC, 0x7FFE, 0x7FFE, 0x7FFE, 0x7FFE, 0x7FFE, 0x3FFC,
  0x3FFC, 0x1FF8, 0x0FF0, 0x03C0, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Square - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x07E0,
  0x0FF0, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x1818, 0x0FF0,
  0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Square - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x07E0,
  0x0FF0, 0x1FF8, 0x1FF8, 0x1FF8, 0x1FF8, 0x1FF8, 0x1FF8, 0x0FF0,
  0x07E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Up - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x03C0, 0x0660, 0x0C30,
  0x1818, 0x1818, 0x1FF8, 0x1FF8, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Up - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x03C0, 0x07E0, 0x0FF0,
  0x1FF8, 0x1FF8, 0x1FF8, 0x1FF8, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Down - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x1FF8, 0x1FF8, 0x1818, 0x1818,
  0x0C30, 0x0660, 0x03C0, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Down - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x1FF8, 0x1FF8, 0x1FF8, 0x1FF8,
  0x0FF0, 0x07E0, 0x03C0, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Left - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x01E0,
  0x01F0, 0x0198, 0x018C, 0x0186, 0x0186, 0x018C, 0x0198, 0x01F0,
  0x01E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Left - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x01E0,
  0x01F0, 0x01F8, 0x01FC, 0x01FE, 0x01FE, 0x01FC, 0x01F8, 0x01F0,
  0x01E0, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Right - Empty */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0780,
  0x0F80, 0x1980, 0x3180, 0x6180, 0x6180, 0x3180, 0x1980, 0x0F80,
  0x0780, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Right - Full */
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0780,
  0x0F80, 0x1F80, 0x3F80, 0x7F80, 0x7F80, 0x3F80, 0x1F80, 0x0F80,
  0x0780, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  /* Wait - Empty */
  0x0000, 0x01C0, 0x0220, 0x0220, 0x0140, 0x0630, 0x0808, 0x0808,
  0x0808, 0x0808, 0x0808, 0x0808, 0x0808, 0x0220, 0x0220, 0x0220,
  0x0220, 0x0220, 0x0220, 0x0220, 0x0220, 0x0220, 0x0220, 0x0000,
  /* Wait - Full */
  0x0000, 0x01C0, 0x03E0, 0x03E0, 0x01C0, 0x07F0, 0x0DD8, 0x0DD8,
  0x0DD8, 0x0DD8, 0x0DD8, 0x0DD8, 0x0DD8, 0x0360, 0x0360, 0x0360,
  0x0360, 0x0360, 0x0360, 0x0360, 0x0360, 0x0360, 0x0360, 0x0000,
  /* Walk - Empty */
  0x0000, 0x01C0, 0x0220, 0x0220, 0x0140, 0x0630, 0x0808, 0x0808,
  0x0808, 0x1004, 0x2002, 0x2002, 0x0140, 0x0220, 0x0220, 0x0410,
  0x0808, 0x0808, 0x1004, 0x1004, 0x2004, 0x4004, 0x0000, 0x0000,
  /* Walk - Full */
  0x0000, 0x01C0, 0x03E0, 0x03E0, 0x01C0, 0x07F0, 0x0DD8, 0x0DD8,
  0x0DD8, 0x19CC, 0x31C6, 0x61C2, 0x01C0, 0x0360, 0x0360, 0x0670,
  0x0C38, 0x0C18, 0x180C, 0x180C, 0x300C, 0x600C, 0x0000, 0x0000,  
};
//*****************************************************************************
//
//! \brief Init the HX8347 LCD Device.
//!
//! \param ulSpiClock SPI clock to select.
//!
//! This function is used to Init the HX8347 Device,initialize the mcu SPI as 
//! master and specified SPI port. It must be call before any other LCD function
//! use.
//!
//! It open the pins's GPIO peripheral port, and config the pins type to GPIO 
//! output. Then config the LCD into the default state. 
//! 
//! \return None.
//
//*****************************************************************************
void 
HX8347Init(unsigned long ulSpiClock)
{  
    //
    // Enable GPIO Periph clock and Alternate Fuction I/O clock.
    //  
    xSysCtlPeripheralEnable(HX8347_SPI_GPIO);
    xSysCtlPeripheralEnable(HX8347_SPI_GPIO_CS);
    xSysCtlPeripheralEnable(SYSCTL_PERIPH_AFIO);
    
    //
    // Enable the SPI which is connected with HX8347
    //
    xSysCtlPeripheralEnable2(HX8347_PIN_SPI_PORT); 
    
    //
    // Set NCS pin and BL_CONTROL pin.
    //
    xGPIOSPinTypeGPIOOutput(HX8347_PIN_BL_CN);
    xGPIOSPinTypeGPIOOutput(HX8347_PIN_CS);
    //
    // Output default value : CS enable, BL_CN enable.
    //
    xGPIOSPinWrite(HX8347_PIN_CS, 0);
    xGPIOSPinWrite(HX8347_PIN_CS, 1);
    xGPIOSPinWrite(HX8347_PIN_BL_CN, 1);
    
    //
    // Set HX8347_PIN_SPI_SCK as SPIx.SCK
    //
    //xSPinTypeSPI(HX8347_SPI_SCK, HX8347_PIN_SPI_SCK); 
    xHWREG(AFIO_MAPR) |= 0x10000000;
    xGPIOSDirModeSet(PC10, GPIO_DIR_MODE_HWSTD);                       
    //
    // Set HX8347_PIN_SPI_MISO as SPIx.MISO
    //
    //xSPinTypeSPI(HX8347_SPI_MISO, HX8347_PIN_SPI_MISO);
    xHWREG(AFIO_MAPR) |= 0x10000000;
    xGPIOSDirModeSet(PC11, GPIO_TYPE_IN_WPU_WPD);                    
    //
    // Set HX8347_PIN_SPI_MOSI as SPIx.MOSI
    //
    //xSPinTypeSPI(HX8347_SPI_MOSI, HX8347_PIN_SPI_MOSI);
    xHWREG(AFIO_MAPR) |= 0x10000000;
    xGPIOSDirModeSet(PC12, GPIO_DIR_MODE_HWSTD);                    
    
    //
    // Enable SPI in Master Mode, CPOL =1, CPHA =1 .
    // Max 18 MBit used for Data Transfer.
    //
    xSPIConfigSet(HX8347_PIN_SPI_PORT, ulSpiClock, 
                  SPI_MODE_MASTER | SPI_FORMAT_MODE_4
                | SPI_SS_SOFTWARE | SPI_SSSET);  
    xSPIEnable(HX8347_PIN_SPI_PORT);
    
    //
    //Delay 50 ms.
    //
    ulSysClk = xSysCtlClockGet();
    xSysCtlDelay(ulSysClk/20);
    
    //
    // Start Initial Sequence
    //    
    HX8347WriteReg(HX8347_POWER_CON_INTERNAL_1, 0x0000);
    HX8347WriteReg(HX8347_POWER_CON_INTERNAL_2, 0x0020);
    HX8347WriteReg(HX8347_SOURCE_CON_INTERNAL_1, 0x000C);
    HX8347WriteReg(HX8347_SOURCE_CON_INTERNAL_2, 0x00C4);
    HX8347WriteReg(HX8347_OP_CON1, 0x0040);
    HX8347WriteReg(HX8347_OP_CON2, 0x0038);
    HX8347WriteReg(HX8347_DISPLAY_CON2, 
                   HX8347_DISPLAY_CON2_REF|
                   HX8347_DISPLAY_CON2_PTG|
                   ((0x2 & HX8347_DISPLAY_CON2_PT_M)<<HX8347_DISPLAY_CON2_PT_S)
                   |HX8347_DISPLAY_CON2_GND);
    //
    // Power On sequence
    //
    HX8347WriteReg(HX8347_POWER_CON_2, 0x1B);
    HX8347WriteReg(HX8347_POWER_CON_1, 0x01);
    HX8347WriteReg(HX8347_VCOM_CON2, 0x2F);
    HX8347WriteReg(HX8347_VCOM_CON3, 0x57);
    HX8347WriteReg(HX8347_VCOM_CON1, 0x8D);    
    //
    // Gamma settings.
    //
    HX8347WriteReg(HX8347_GAMMA_CON1,0x00);
    HX8347WriteReg(HX8347_GAMMA_CON2,0x00);
    HX8347WriteReg(HX8347_GAMMA_CON3,0x01);
    HX8347WriteReg(HX8347_GAMMA_CON4,0x13);
    HX8347WriteReg(HX8347_GAMMA_CON5,0x10);
    HX8347WriteReg(HX8347_GAMMA_CON6,0x26);
    HX8347WriteReg(HX8347_GAMMA_CON7,0x08);
    HX8347WriteReg(HX8347_GAMMA_CON8,0x51);
    HX8347WriteReg(HX8347_GAMMA_CON9,0x02);
    HX8347WriteReg(HX8347_GAMMA_CON10,0x12);
    HX8347WriteReg(HX8347_GAMMA_CON11,0x18);
    HX8347WriteReg(HX8347_GAMMA_CON12,0x19);
    HX8347WriteReg(HX8347_GAMMA_CON13,0x14);
    HX8347WriteReg(HX8347_GAMMA_CON14,0x19);
    HX8347WriteReg(HX8347_GAMMA_CON15,0x2F);
    HX8347WriteReg(HX8347_GAMMA_CON16,0x2C);
    HX8347WriteReg(HX8347_GAMMA_CON17,0x3E);
    HX8347WriteReg(HX8347_GAMMA_CON18,0x3F);       
    HX8347WriteReg(HX8347_GAMMA_CON19,0x3F);
    HX8347WriteReg(HX8347_GAMMA_CON20,0x2E);
    HX8347WriteReg(HX8347_GAMMA_CON21,0x77);
    HX8347WriteReg(HX8347_GAMMA_CON22,0x0B);
    HX8347WriteReg(HX8347_GAMMA_CON23,0x06);
    HX8347WriteReg(HX8347_GAMMA_CON24,0x07);
    HX8347WriteReg(HX8347_GAMMA_CON25,0x0D);
    HX8347WriteReg(HX8347_GAMMA_CON26,0x1D);
    HX8347WriteReg(HX8347_GAMMA_CON27,0xCC);
    //
    // Power + Osc.
    //
    HX8347WriteReg(HX8347_OSC_CON_1, 
                   ((0x6 & HX8347_OSC_CON_NP_M) << HX8347_OSC_CON_NP_S)|
                   ((0x3 & HX8347_OSC_CON_NPI_M) << HX8347_OSC_CON_NPI_S));
    HX8347WriteReg(HX8347_OSC_CON_2, HX8347_OSC_CON_OSCEN);
    HX8347WriteReg(HX8347_MODE_CR, 0x00);
    HX8347WriteReg(HX8347_POWER_CON_6, 
                   HX8347_POWER_CON_6_GASEN | HX8347_POWER_CON_6_DK);
    xSysCtlDelay(ulSysClk/200);
    HX8347WriteReg(HX8347_POWER_CON_6, HX8347_POWER_CON_6_GASEN);
    xSysCtlDelay(ulSysClk/200);
    HX8347WriteReg(HX8347_POWER_CON_6, 
                   HX8347_POWER_CON_6_GASEN | HX8347_POWER_CON_6_PON);
    xSysCtlDelay(ulSysClk/200);
    HX8347WriteReg(HX8347_POWER_CON_6, 
                   HX8347_POWER_CON_6_GASEN | HX8347_POWER_CON_6_PON |
                   HX8347_POWER_CON_6_VCOMG);
    xSysCtlDelay(ulSysClk/200);
 
    HX8347WriteReg(HX8347_COLMOD_CON, HX8347_COLMOD_CON_SYS16);
    HX8347WriteReg(HX8347_PANEL_CON, 0x00);
    //
    // Display control 3
    //
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGHL | HX8347_DISPLAY_CON3_MODE3);
    xSysCtlDelay(ulSysClk/25);
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGHL | HX8347_DISPLAY_CON3_MODE4);
    //
    // Memory Access Control.
    //
    HX8347WriteReg(HX8347_MEMORY_CON, HX8347_MEMORY_CON_MV |
                   HX8347_MEMORY_CON_MX |HX8347_MEMORY_CON_BGR);
    //
    // Set GRAM Area
    //
    HX8347SetWindowMax();
}

//*****************************************************************************
//
//! \brief Write command to LCD controller.
//!
//! \param ucCmd The command to write.
//!
//! This function is to send a command to the device.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347WriteCmd(unsigned char ucCmd)
{                                                
    xGPIOSPinWrite(HX8347_PIN_CS, 0);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, HX8347_SPI_START 
                          | HX8347_SPI_WR | HX8347_SPI_INDEX);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, 0);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, ucCmd);
    xGPIOSPinWrite(HX8347_PIN_CS, 1);
}

//*****************************************************************************
//
//! \brief Write data to LCD controller.
//!
//! \param ucVal The data to write.
//!
//! This function is to send a data to the device.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347WriteDat(unsigned short ucVal)
{
    xGPIOSPinWrite(HX8347_PIN_CS, 0);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, HX8347_SPI_START 
                          | HX8347_SPI_WR | HX8347_SPI_DATA);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, ucVal >> 8);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, ucVal & 0xFF);
    xGPIOSPinWrite(HX8347_PIN_CS, 1);
}

//*****************************************************************************
//
//! \brief Write to LCD controller.
//!
//! \param ucReg Register to be write.
//! \param ucVal value to write to register.
//!
//! This function is to write a data to LCD register.
//!
//! \return None.
//
//*****************************************************************************
void 
HX8347WriteReg(unsigned char ucReg, unsigned short ucVal)
{
    HX8347WriteCmd(ucReg);
    HX8347WriteDat(ucVal);
}

//*****************************************************************************
//
//! \brief read data from LCD controller.
//!
//! \param ucReg Register to be read.
//!
//! This function is to read data from LCD register.
//!
//! \return None.
//
//*****************************************************************************
unsigned short HX8347ReadData(void)
{   
    unsigned short usVal = 0;
    xGPIOSPinWrite(HX8347_PIN_CS, 0);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, HX8347_SPI_START 
                          | HX8347_SPI_RD | HX8347_SPI_DATA);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, 0);
    
    usVal = xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, 0);
    usVal <<= 8;
    usVal |= xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, 0);
    
    xGPIOSPinWrite(HX8347_PIN_CS, 1);
    return (usVal);
}
//*****************************************************************************
//
//! \brief read from LCD controller.
//!
//! \param ucReg Register to be read.
//!
//! This function is to read from LCD register.
//!
//! \return None.
//
//*****************************************************************************
unsigned short HX8347ReadReg(unsigned char ucReg)
{
    HX8347WriteCmd(ucReg);
    return(HX8347ReadData());
}

//*****************************************************************************
//
//! \brief set draw window region.
//!
//! \param ulX horizontal position.
//! \param ulY vertical position.
//! \param ulW window width in pixel.
//! \param ulH window height in pixels.
//!
//! This function is set draw window region.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347SetWindow(unsigned long ulX, unsigned long ulY, unsigned long ulW,
                unsigned long ulH)
{
    HX8347WriteReg(HX8347_COLUMN_ADDRSTR_2, (ulX  >> HX8347_COLUMN_ADDRSTR_2_S) 
                                             & HX8347_COLUMN_ADDRSTR_M);
    HX8347WriteReg(HX8347_COLUMN_ADDRSTR_1, (ulX >> HX8347_COLUMN_ADDRSTR_1_S)
                                             & HX8347_COLUMN_ADDREND_M);
    HX8347WriteReg(HX8347_COLUMN_ADDREND_2, 
                   (ulX+ulW-1 >> HX8347_COLUMN_ADDREND_2_S)
                    & HX8347_COLUMN_ADDREND_M);
    HX8347WriteReg(HX8347_COLUMN_ADDREND_1, 
                   (ulX+ulW-1 >> HX8347_COLUMN_ADDREND_1_S)
                    & HX8347_COLUMN_ADDREND_M);
    HX8347WriteReg(HX8347_ROW_ADDRSTR_2, 
                   (ulY >> HX8347_ROW_ADDRSTR_2_S)
                    & HX8347_ROW_ADDRSTR_M);
    HX8347WriteReg(HX8347_ROW_ADDRSTR_1, 
                   (ulY >> HX8347_ROW_ADDRSTR_1_S)
                    & HX8347_ROW_ADDRSTR_M);
    HX8347WriteReg(HX8347_ROW_ADDREND_2, 
                   (ulY+ulH-1 >> HX8347_ROW_ADDREND_2_S)
                    & HX8347_ROW_ADDREND_M);
    HX8347WriteReg(HX8347_ROW_ADDREND_1, 
                   (ulY+ulH-1 >> HX8347_ROW_ADDREND_1_S)
                    & HX8347_ROW_ADDREND_M);
}


//*****************************************************************************
//
//! \brief set draw region to whole screen.
//!
//! \param none.
//!
//! This function is set draw region to whole screen.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347SetWindowMax(void)
{
    HX8347SetWindow(0, 0, HX8347_DISPLAY_WIDTH, HX8347_DISPLAY_HEIGHT);
}

//*****************************************************************************
//
//! \brief Draw a pixel in foreground color.
//!
//! \param x horizontal position.
//! \param y vertical position.
//!
//! This fuction is to drwa a pixel in foreground color.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DrawPixel(unsigned long ulX, unsigned long ulY)
{
    ulX = HX8347_DISPLAY_WIDTH -ulX -1;   
    HX8347SetWindow(ulX, ulY, 1, 1);
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDat(TextColor);
    
}

//*****************************************************************************
//
//! \brief Clear display.
//!
//! \param usColor display clearing color.
//!
//! This function is clear the entire display.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347LCDClear(unsigned short usColor)
{
    unsigned long ulI;
    HX8347SetWindow(0, 0, HX8347_DISPLAY_WIDTH, HX8347_DISPLAY_HEIGHT);
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDataStart();
    
    for(ulI = 0; ulI < (HX8347_DISPLAY_WIDTH*HX8347_DISPLAY_HEIGHT); ulI++)
    {
      HX8347WriteDataOnly(usColor);
    }   
    
    HX8347WriteDataStop();
}

//*****************************************************************************
//
//! \brief start of data writing to LCD controller.
//!
//! \param none.
//!
//! This function is start of data writing to LCD controller.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347WriteDataStart(void)
{
    xGPIOSPinWrite(HX8347_PIN_CS, 0);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, HX8347_SPI_START 
                          | HX8347_SPI_WR | HX8347_SPI_DATA);
}

//*****************************************************************************
//
//! \brief data writing to LCD controller.
//!
//! \param usC data to be written.
//!
//! This function is writing data to LCD controller.
//!
//! \return None.
//
//*****************************************************************************
void 
HX8347WriteDataOnly(unsigned short usC)
{
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, usC >> 8);
    xSPISingleDataReadWrite(HX8347_PIN_SPI_PORT, usC & 0xFF);
}

//*****************************************************************************
//
//! \brief stop data writing to LCD controller.
//!
//! \param none.
//!
//! This function is stop writing data to LCD controller.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347WriteDataStop(void)
{
    xGPIOSPinWrite(HX8347_PIN_CS, 1);
}

//*****************************************************************************
//
//! \brief display graphical bmp file image.
//!
//! \param ulX horizontal position.
//! \param ulY vertical position.
//! \param ulW bmp width in pixel.
//! \param ulH bmp height in pixels.
//! \param pucBmp address at which the bmp data resides.
//!
//! This function is display graphical bmp file image at position x horizontally 
//! and y vertically (This function is optimized for 16 bits per piexl format,
//! it has to be adapted for any other bits per pixel format)
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DisplayBmp (unsigned long ulX, unsigned long ulY, unsigned long ulW,
                                                        unsigned long ulH,
                                                        unsigned char *pucBmp)
{
    unsigned long ulI;
    unsigned long ulLen = ulW * ulH;
    unsigned short *pusBitmap = (unsigned short *)pucBmp;
    
    ulX = HX8347_DISPLAY_WIDTH-ulX-ulW;
    HX8347SetWindow(ulX, ulY, ulW, ulH);
    
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDataStart();
    pusBitmap += (ulH * ulW)-1;
    
    for (ulI = 0; ulI < ulLen; ulI++)
    {
      HX8347WriteDat(*pusBitmap--);
    }
    HX8347WriteDataStop();
}

//*****************************************************************************
//
//! \brief draw bargraph.
//!
//! \param ulX horizontal position.
//! \param ulY vertical position.
//! \param ulW maximum width bargraph(in pixels).
//! \param ulVal value of active bargraph(in 1/1024).
//!
//! This function is draw a bargraph at position x horizontally and y
//! vertically 
//!
//! \return None.
//
//*****************************************************************************
void
HX8347Bargraph(unsigned long ulX, unsigned long ulY, unsigned long ulW,
                                                         unsigned long ulH,
                                                         unsigned long ulVal)
{
    signed lI,lJ;
    ulX = HX8347_DISPLAY_WIDTH - ulX - ulW;
    HX8347SetWindow(ulX, ulY, ulW, ulH);
    
    ulVal = (ulVal * ulW) >> 10;
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDataStart();
    for(lI = 0; lI < ulH ;lI++)
    {
      for(lJ = ulW -1; lJ >= 0; lJ --)
      {
        if(lJ >= ulVal)
        {
          HX8347WriteDataOnly(BackColor);
        }
        else
        {
          HX8347WriteDataOnly(TextColor);
        }
      }
    }
    HX8347WriteDataStop();
}

//*****************************************************************************
//
//! \brief Set foreground color.
//!
//! \param usColor foreground color.
//!
//! This function is to set foreground color.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347SetTextColor(unsigned short usColor)
{
    TextColor = usColor;
}

//*****************************************************************************
//
//! \brief Set background color.
//!
//! \param usColor background color.
//!
//! This function is to set background color.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347SetBackColor(unsigned short usColor)
{
    BackColor = usColor;
}

//*****************************************************************************
//
//! \brief draw character on given position.
//!
//! \param ulX horizontal position.
//! \param ulY  vertical position.
//! \param pucC pointer to character bitmap.
//!
//! This function is to draw character on given position.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DrawChar(unsigned long ulX, unsigned long ulY, unsigned short *psC)
{
    unsigned long ulIDx = 0;
    long lI,lJ;
    
    ulX = HX8347_DISPLAY_WIDTH - ulX - CHAR_W;
    HX8347SetWindow(ulX, ulY, CHAR_W, CHAR_H);
    
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDataStart();
    for(lJ = 0; lJ < CHAR_H; lJ++)
    {
       for(lI = CHAR_W - 1; lI >= 0; lI--)
       {
         if((psC[ulIDx] & (1 << lI)) == 0x00)
         {
            HX8347WriteDataOnly(BackColor);
         }
         else
         {
            HX8347WriteDataOnly(TextColor);
         }
       }
       psC++;
    }   
    HX8347WriteDataStop();
}

//*****************************************************************************
//
//! \brief Display character on given line.
//!
//! \param ulLine line number.
//! \param ulCol  ulCol column number.
//! \param pucC ascii character.
//!
//! This function is to display character on given line.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DisplayChar(unsigned long ulLine, unsigned long ulCol, unsigned char ucC)
{
    ucC -= 32;
    HX8347DrawChar(ulCol * CHAR_W, ulLine * CHAR_H, &usFont24x16[ucC * CHAR_H]);
}
//*****************************************************************************
//
//! \brief Display string on given line.
//!
//! \param ulLine line number.
//! \param ulCol  ulCol column number.
//! \param pucStr point to string.
//!
//! This function is to display string on given line.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DisplayString(unsigned long ulLine, unsigned long ulCol, 
                                          unsigned char *pucStr)
{
    HX8347SetWindowMax();
    
    while(*pucStr)
    {   if(ulCol > 19)
        {
          ulCol = 0;
          ulLine +=1;  
        }
        if(ulLine > 9)
        {
          break;
        }
        HX8347DisplayChar(ulLine, ulCol++, *pucStr++);
    }
}

//*****************************************************************************
//
//! \brief clear the given line.
//!
//! \param ulLine line number.
//!
//! This function is to clear the given line.
//! vertically 
//!
//! \return None.
//
//*****************************************************************************
void
HX8347ClearLine(unsigned long ulLine)
{
    HX8347SetWindowMax();
    HX8347DisplayString(ulLine, 0, "                    ");
}

//*****************************************************************************
//
//! \brief Display a decimal number on the LCD.
//!
//! \param ucLine line number
//! \param ulCol column number
//! \param n is the number that to display.
//!
//! Display a decimal number on the cursor location.
//!
//! \return None.
//
//*****************************************************************************
void 
HX8347DisplayN(unsigned char ucLine, unsigned char ulCol, 
                     unsigned long n)
{
    char pcBuf[16], *p;

    if (n == 0)
    {
        HX8347DisplayChar(ucLine, ulCol, '0');
    }
    else
    {
        p = pcBuf;
        while (n != 0)
        {
            *p++ = (n % 10) + '0';
            n /= 10;
        }

        while (p > pcBuf)
        {
            HX8347DisplayChar(ucLine, ulCol, *--p);
            ulCol++;
            if (ulCol > 19)
            {
                ucLine++;
                ulCol = 0;
                if(ucLine > 9)
                {
                    break;
                }
            }
        }
    }
}

//*****************************************************************************
//
//! \brief Sets the entire LCD display on.
//!
//! \param None.
//!
//! \return None.
//
//*****************************************************************************
void 
HX8347DisplayOn(void)
{
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGHL | HX8347_DISPLAY_CON3_MODE3);
    xSysCtlDelay(ulSysClk/25);
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGHL | HX8347_DISPLAY_CON3_MODE4);
}

//*****************************************************************************
//
//! \brief Sets the entire LCD display off.
//!
//! \param None.
//! 
//! It set the entire display to blank without changing the data that have been
//! written into the LCD GRAM.
//!
//! \return None.
//
//*****************************************************************************
void 
HX8347DisplayOff(void)
{
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGHL | HX8347_DISPLAY_CON3_MODE3);
    xSysCtlDelay(ulSysClk/25);
    HX8347WriteReg(HX8347_DISPLAY_CON3, 
                   HX8347_DISPLAY_CON3_VGH | HX8347_DISPLAY_CON3_MODE2);
}

//*****************************************************************************
//
//! \brief draw a chinese characters on given position.
//!
//! \param ulX horizontal position.
//! \param ulY  vertical position.
//! \param psC pointer to chinese character bitmap.
//!
//! This function is to draw a chinese characters on given position. The chinese 
//! character width is 16,height is 16(in pixel).
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DrawChinese(unsigned long ulX, unsigned long ulY, unsigned char *pcC)
{   
    unsigned long ulIDx = 0;
    long lI, lJ;
    unsigned short *pusC = (unsigned short *)pcC;
    
    ulX = HX8347_DISPLAY_WIDTH - ulX - 16;
    HX8347SetWindow(ulX, ulY, 16 , 16);
    HX8347WriteCmd(HX8347_READ_DATA);
    HX8347WriteDataStart();
    
    for(lJ = 0; lJ < 16; lJ++)
    {
       for(lI = CHAR_W - 1; lI >= 0; lI--)
       {
         if((pusC[ulIDx] & (1 << lI)) == 0x00)
         {
            HX8347WriteDataOnly(BackColor);
         }
         else
         {
            HX8347WriteDataOnly(TextColor);
         }
       }
       pusC++;
    }
    HX8347WriteDataStop();
}

//*****************************************************************************
//
//! \brief Display Chinese charaters on the LCD.
//!
//! \param ucLine line number
//! \param ucCol column number
//! \param ucLen The length of the Chinese.
//! \param pucStr point to chinese characters.
//!
//! Display a decimal number on the cursor location.the ucLine is between
//! 0 and 14, ucCol is between 0 and 19.
//!
//! \return None.
//
//*****************************************************************************
void
HX8347DisplayChinese(unsigned char ucLine, unsigned char ucCol,
                     unsigned char ucLen,
                     unsigned char *pucStr)
{  
   unsigned char ucI;
   for(ucI = 0; ucI < ucLen; ucI++)
   {
     HX8347DrawChinese(ucCol*16, ucLine*16, &pucStr[32*ucI]);
     ucCol++;
     if(ucCol > 19)
     {
       ucLine++;
       ucCol = 0;
     }
     if(ucLine > 15)
     {
       break;
     }
   }
   
}